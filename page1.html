<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C# è¯­è¨€ä»‹ç»</title>
    <link rel="stylesheet" href="style.css">
    <!-- å¼•å…¥ä»£ç é«˜äº®åº“ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/csharp.min.js"></script>
    <style>
        /* å…¨å±èƒŒæ™¯å›¾ - æ— é®æŒ¡ */
        body {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            background-image: url('images/back_Csharp.png');
            background-size: contain;  /* æ”¹ä¸ºcontainä»¥å®Œæ•´æ˜¾ç¤ºå›¾ç‰‡ */
            background-position: center;
            background-repeat: no-repeat;
            background-color: #000; /* èƒŒæ™¯è‰²å¡«å……ç©ºç™½åŒºåŸŸ */
            font-family: 'Arial', sans-serif;
            /* å¢åŠ èƒŒæ™¯äº®åº¦ */
            filter: brightness(1.1);
        }

        /* é€æ˜ä»£ç æ–‡æœ¬æ¡† */
        .transparent-code-container {
            position: absolute;
            left: 41.30%;
            top: 9.69%;
            width: 36.83%;
            height: 29.08%;
            max-width: 700px;
            max-height: 400px;
            min-width: 400px;
            min-height: 250px;
            background: transparent;
            border-radius: 12px;
            overflow: hidden;
            z-index: 100;
        }

        /* å¯¹è¯æ¡†æ–‡æœ¬æ¡† */
        .dialog-container {
            position: absolute;
            left: 43.00%;
            top: 49.40%;
            width: 33.50%;
            height: 9.39%;
            max-width: 600px;
            max-height: 200px;
            min-width: 350px;
            min-height: 80px;
            background: transparent;
            border-radius: 12px;
            overflow: hidden;
            z-index: 100;
        }

        /* ASKæ–‡æœ¬æ¡†æ ·å¼ - æ–°å¢ */
        .ask-container {
            position: absolute;
            background: transparent;
            border-radius: 8px;
            overflow: hidden;
            z-index: 100;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        /* ASKå®¹å™¨æ‚¬åœæ•ˆæœ */
        .ask-container:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
        }

        /* ASKå®¹å™¨æ¿€æ´»æ•ˆæœ */
        .ask-container.active {
            background: rgba(52, 152, 219, 0.15);
            border: 1px solid rgba(52, 152, 219, 0.5);
        }

        /* ASKå¯¹è¯æ¡† */
        .ask-dialog {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            background: transparent;
        }

        /* ASKå¯¹è¯æ¡†å¤´éƒ¨ */
        .ask-header {
            background: transparent;
            padding: 0.3rem 0.8rem;
            display: flex;
            justify-content: flex-end;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            height: 20px;
            min-height: 20px;
        }

        /* éšè—ASKçª—å£æ§åˆ¶æŒ‰é’® */
        .ask-window-controls {
            display: none;
        }

        /* ASKå¯¹è¯æ¡†ä¸»ä½“ */
        .ask-body {
            flex: 1;
            position: relative;
            padding: 0;
            overflow: hidden;
            background: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ASKæ–‡æœ¬æ ·å¼ */
        .ask-text {
            font-family: 'Microsoft YaHei', 'Arial', sans-serif;
            font-size: 18px;
            color: rgba(50, 153, 185, 0.85);
            padding: 10px 15px;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            width: 100%;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        /* æ‚¬åœæ—¶æ–‡æœ¬æ•ˆæœ */
        .ask-container:hover .ask-text {
            color: rgba(100, 200, 255, 0.95);
            text-shadow: 0 0 10px rgba(100, 200, 255, 0.5);
        }

        /* é€æ˜å¯¹è¯æ¡† */
        .transparent-code-dialog, .dialog-dialog {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            background: transparent;
        }

        /* é€æ˜çš„å¯¹è¯æ¡†å¤´éƒ¨ - ä¿®æ”¹ï¼šç§»é™¤çª—å£æ§åˆ¶æŒ‰é’®å’Œæ–‡ä»¶å */
        .transparent-dialog-header, .dialog-header {
            background: transparent;
            padding: 0.5rem 1rem;
            display: flex;
            justify-content: flex-end; /* å°†å†…å®¹é å³å¯¹é½ */
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            height: 30px; /* è®¾ç½®å›ºå®šé«˜åº¦ */
            min-height: 30px;
        }

        /* éšè—çª—å£æ§åˆ¶æŒ‰é’® */
        .transparent-window-controls, .dialog-window-controls {
            display: none; /* å®Œå…¨éšè—çª—å£æ§åˆ¶æŒ‰é’® */
        }

        .transparent-control, .dialog-control {
            display: none; /* éšè—å•ä¸ªæ§åˆ¶æŒ‰é’® */
        }

        /* éšè—æ–‡ä»¶å */
        .transparent-file-name, .dialog-file-name {
            display: none; /* éšè—æ–‡ä»¶å */
        }

        /* éšè—æ»šåŠ¨æ¡ä½†ä¿ç•™æ»šåŠ¨åŠŸèƒ½ */
        .transparent-dialog-body::-webkit-scrollbar,
        .dialog-body::-webkit-scrollbar {
            display: none;
        }

        .transparent-dialog-body,
        .dialog-body {
            -ms-overflow-style: none;
            scrollbar-width: none;
            scroll-behavior: smooth;
        }

        /* é€æ˜çš„ä»£ç æ˜¾ç¤ºåŒºåŸŸ */
        .transparent-dialog-body, .dialog-body {
            flex: 1;
            position: relative;
            padding: 0;
            overflow-y: auto;
            background: transparent;
            /* ç¡®ä¿å¹³æ»‘æ»šåŠ¨ */
            scroll-behavior: smooth;
            /* é˜²æ­¢å†…å®¹è¢«è£å‰ª */
            overflow-anchor: auto;
        }

        .transparent-dialog-body pre, .dialog-body pre {
            margin: 0;
            background: transparent !important;
            padding: 1.5rem !important;
            font-family: 'Monaco', 'Consolas', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
        }

        .transparent-dialog-body code, .dialog-body code {
            font-family: 'Monaco', 'Consolas', 'Courier New', monospace !important;
            font-size: 14px !important;
            line-height: 1.6 !important;
            background: transparent !important;
            padding: 0 !important;
            display: block;
            white-space: pre !important;
            color: rgba(255, 255, 255, 0.95) !important; /* ç™½è‰²æ–‡å­— */
            text-shadow: 
                0 1px 0 rgba(0, 0, 0, 0.5),
                0 2px 4px rgba(0, 0, 0, 0.7),
                0 0 8px rgba(255, 255, 255, 0.1); /* å‘å…‰æ•ˆæœ */
        }

        /* ä»£ç é«˜äº®æ ·å¼è¦†ç›– - è°ƒæ•´ä¸ºç™½è‰²ç³» */
        .hljs {
            background: transparent !important;
            color: rgba(255, 255, 255, 0.95) !important;
        }
        .hljs-comment { 
            color: rgba(200, 200, 200, 0.8) !important; 
            font-style: italic !important;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5) !important;
        }
        .hljs-keyword { 
            color: rgba(255, 100, 100, 0.95) !important; 
            font-weight: bold !important;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7) !important;
        }
        .hljs-string { 
            color: rgba(100, 200, 255, 0.95) !important;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7) !important;
        }
        .hljs-title { 
            color: rgba(200, 150, 255, 0.95) !important;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7) !important;
        }
        .hljs-built_in { 
            color: rgba(100, 220, 255, 0.95) !important;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7) !important;
        }

        /* æ‰“å­—æœºå…‰æ ‡ */
        .transparent-typing-cursor, .dialog-typing-cursor {
            display: inline;
            animation: blink 1s infinite;
            color: #36d7e7;
            font-weight: bold;
            margin-left: 2px;
            text-shadow: 0 0 10px rgba(54, 215, 231, 0.8);
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        /* å¯¹è¯æ¡†æ–‡å­—æ ·å¼ */
        .dialog-text {
            font-family: 'Microsoft YaHei', 'Arial', sans-serif;
            font-size: 20px;
            color: rgba(168, 32, 116, 0.95);
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.7);
            padding: 20px;
            text-align: center;
        }

        /* åªä¿ç•™è¿”å›æŒ‰é’® */
        .transparent-back-btn {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(52, 152, 219, 0.8);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 30px;
            transition: background 0.3s;
            z-index: 100;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }
        .transparent-back-btn:hover {
            background: rgba(41, 128, 185, 0.9);
            transform: translateX(-50%) translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 1200px) {
            .transparent-code-container, .dialog-container {
                min-width: 350px;
                min-height: 200px;
            }
            
            .transparent-dialog-body pre, .dialog-body pre {
                padding: 1rem !important;
                font-size: 13px;
            }
            
            .transparent-dialog-body code, .dialog-body code {
                font-size: 13px !important;
            }
            
            .dialog-text {
                font-size: 18px;
                padding: 15px;
            }
            
            .ask-text {
                font-size: 16px;
                padding: 8px 12px;
            }
        }

        @media (max-width: 768px) {
            /* åœ¨å°å±å¹•ä¸Šè°ƒæ•´æ–‡æœ¬æ¡†å¤§å°å’Œä½ç½® */
            .transparent-code-container, .dialog-container {
                position: absolute;
                left: 50%;
                top: 50%;
                transform: translate(-50%, -50%);
                width: 90%;
                height: 70%;
                max-width: none;
                max-height: none;
                min-width: 300px;
                min-height: 250px;
            }
            
            .transparent-dialog-body pre, .dialog-body pre {
                padding: 1rem !important;
                font-size: 12px;
            }
            
            .transparent-dialog-body code, .dialog-body code {
                font-size: 12px !important;
            }
            
            .dialog-text {
                font-size: 16px;
                padding: 10px;
            }
            
            .ask-text {
                font-size: 14px;
                padding: 6px 10px;
            }
        }

        @media (max-width: 480px) {
            .transparent-dialog-body pre, .dialog-body pre {
                padding: 0.8rem !important;
                font-size: 11px;
            }
            
            .transparent-dialog-body code, .dialog-body code {
                font-size: 11px !important;
            }
            
            .dialog-text {
                font-size: 14px;
                padding: 8px;
            }
            
            .ask-text {
                font-size: 12px;
                padding: 5px 8px;
            }
            
            .transparent-back-btn {
                padding: 10px 20px;
                font-size: 0.9rem;
                bottom: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- é€æ˜ä»£ç æ–‡æœ¬æ¡† -->
    <div class="transparent-code-container">
        <div class="transparent-code-dialog">
            <div class="transparent-dialog-header">
                <!-- ç§»é™¤äº†çª—å£æ§åˆ¶æŒ‰é’®å’Œæ–‡ä»¶å -->
            </div>
            <div class="transparent-dialog-body">
                <pre><code class="language-csharp" id="code-display">// ä»£ç å°†åœ¨è¿™é‡Œä»¥æ‰“å­—æœºæ•ˆæœæ˜¾ç¤º...</code></pre>
                <div class="transparent-typing-cursor">|</div>
            </div>
        </div>
    </div>

    <!-- å¯¹è¯æ¡†æ–‡æœ¬æ¡† -->
    <div class="dialog-container">
        <div class="dialog-dialog">
            <div class="dialog-header">
                <!-- ç§»é™¤äº†çª—å£æ§åˆ¶æŒ‰é’®å’Œæ–‡ä»¶å -->
            </div>
            <div class="dialog-body">
                <div id="dialog-display" class="dialog-text">
                    <!-- å¯¹è¯æ¡†å†…å®¹å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                </div>
                <div class="dialog-typing-cursor" style="display: none;">|</div>
            </div>
        </div>
    </div>

    <!-- ASK1æ–‡æœ¬æ¡† -->
    <div class="ask-container" id="ask1-container">
        <div class="ask-dialog">
            <div class="ask-header">
                <!-- ç§»é™¤äº†çª—å£æ§åˆ¶æŒ‰é’® -->
            </div>
            <div class="ask-body">
                <div class="ask-text" id="ask1-text">è¿™é“ç¼–ç¨‹é¢˜å¡ä½äº†ï¼Œå¸®æˆ‘çœ‹çœ‹ï¼Ÿ</div>
            </div>
        </div>
    </div>

    <!-- ASK2æ–‡æœ¬æ¡† -->
    <div class="ask-container" id="ask2-container">
        <div class="ask-dialog">
            <div class="ask-header">
                <!-- ç§»é™¤äº†çª—å£æ§åˆ¶æŒ‰é’® -->
            </div>
            <div class="ask-body">
                <div class="ask-text" id="ask2-text">é¡¹ç›®æ•°æ®å¤ªå¤šç†ä¸æ¸…äº†ã€‚</div>
            </div>
        </div>
    </div>

    <!-- ASK3æ–‡æœ¬æ¡† -->
    <div class="ask-container" id="ask3-container">
        <div class="ask-dialog">
            <div class="ask-header">
                <!-- ç§»é™¤äº†çª—å£æ§åˆ¶æŒ‰é’® -->
            </div>
            <div class="ask-body">
                <div class="ask-text" id="ask3-text">ä»£ç åˆæŠ¥å¼‚å¸¸äº†ï¼Œå¥½çƒ¦ã€‚</div>
            </div>
        </div>
    </div>

    <!-- è¿”å›æŒ‰é’® -->
    <button class="transparent-back-btn" onclick="goBack()">è¿”å›é¦–é¡µ</button>

    <script>
        // ç²¾ç®€çš„ C# ç¤ºä¾‹ä»£ç 
        const csharpCode = `using System;\nusing System.Linq;\n\nnamespace HelloWorld\n{\n    // HelloPrinter ç±»\n    class HelloPrinter\n    {\n        // è‡ªåŠ¨å±æ€§\n        public string Content { get; set; }\n        // æ„é€ å‡½æ•°\n        public HelloPrinter(string content)\n        {\n            Content = content;\n        }\n        // é‡å†™ ToString æ–¹æ³•\n        public override string ToString()\n        {\n            return Content;\n        }\n    }\n    class Program\n    {\n        // Main æ–¹æ³• - ç¨‹åºå…¥å£ç‚¹\n        static void Main(string[] args)\n        {\n            Console.WriteLine("=== C# Hello World ç¤ºä¾‹ ===\\n");\n            // åˆ›å»ºå¯¹è±¡\n            HelloPrinter printer = new HelloPrinter("ğŸ¯ Hello C# World!");\n            // ä½¿ç”¨å±æ€§\n            Console.WriteLine($"å†…å®¹: {printer.Content}");\n            \n            // è°ƒç”¨ ToString æ–¹æ³•\n            Console.WriteLine($"å­—ç¬¦ä¸²è¡¨ç¤º: {printer.ToString()}");\n            // LINQ æŸ¥è¯¢ç¤ºä¾‹\n            var numbers = new[] { 1, 2, 3, 4, 5 };\n            var evenNumbers = numbers.Where(n => n % 2 == 0);\n            Console.WriteLine("\\nå¶æ•°æ•°å­—:");\n            foreach (var num in evenNumbers)\n            {\n                Console.WriteLine($"  {num}");\n            }\n            // ç­‰å¾…ç”¨æˆ·æŒ‰é”®\n            Console.WriteLine("\\nğŸ® æŒ‰ä»»æ„é”®é€€å‡º...");\n            Console.ReadKey();\n        }\n    }\n}`;

        // ASKæ–‡æœ¬æ¡†å¯¹åº”çš„å›ç­”æ•°ç»„
        const askResponses = [
            "C#ï¼šæŠŠè‰ç¨¿æœ¬ç»™æˆ‘ï¼ŒLINQæŸ¥è¯¢å°±åƒæ•´ç†ç¬”è®°ä¸€æ ·ç®€å•ã€‚",
            "C#ï¼šç”¨æˆ‘çš„æ³›å‹é›†åˆï¼Œåƒæ•´ç†ä¹¦æ¶é‚£æ ·åˆ†ç±»å­˜æ”¾ã€‚",
            "C#ï¼šè°ƒè¯•å™¨å°±åƒé”™é¢˜æœ¬ï¼Œæˆ‘é™ªä½ ä¸€è¡Œè¡Œæ£€æŸ¥åŸå› ã€‚"
        ];

        // æ‰“å­—æœºæ•ˆæœ
        let codeIndex = 0;
        let typingSpeed = 25;
        let isTyping = false;
        let dialogIndex = 0;
        let isDialogTyping = false;

        function startTypingEffect() {
            const codeElement = document.getElementById('code-display');
            const cursor = document.querySelector('.transparent-typing-cursor');
            const dialogBody = document.querySelector('.transparent-dialog-body');
            
            if (isTyping) return;
            isTyping = true;
            
            codeElement.textContent = '';
            codeIndex = 0;
            cursor.style.display = 'inline';
            
            function typeCharacter() {
                if (codeIndex < csharpCode.length) {
                    codeElement.textContent += csharpCode[codeIndex];
                    codeIndex++;
                    
                    // è‡ªåŠ¨æ»šåŠ¨åˆ°æœ€æ–°å†…å®¹ - ç¡®ä¿å§‹ç»ˆæ˜¾ç¤ºåº•éƒ¨
                    if (dialogBody) {
                        dialogBody.scrollTop = dialogBody.scrollHeight;
                    }
                    
                    setTimeout(typeCharacter, typingSpeed);
                } else {
                    // æ‰“å­—å®Œæˆ
                    cursor.style.display = 'none';
                    isTyping = false;
                    // åº”ç”¨è¯­æ³•é«˜äº®
                    if (hljs) {
                        hljs.highlightElement(codeElement);
                    }
                    // é«˜äº®åå†æ¬¡ç¡®ä¿åœ¨åº•éƒ¨
                    if (dialogBody) {
                        dialogBody.scrollTop = dialogBody.scrollHeight;
                    }
                    // ä»£ç æ‰“å­—å®Œæˆåå¼€å§‹å¯¹è¯æ¡†æ‰“å­—
                    setTimeout(() => startDialogTyping("ä½ å¥½ï¼"), 500);
                }
            }
            
            typeCharacter();
        }

        function startDialogTyping(text) {
            const dialogElement = document.getElementById('dialog-display');
            const dialogCursor = document.querySelector('.dialog-typing-cursor');
            const dialogBody = document.querySelector('.dialog-body');
            
            // å¦‚æœæ­£åœ¨æ‰“å­—ï¼Œå…ˆåœæ­¢
            if (isDialogTyping) {
                isDialogTyping = false;
            }
            
            isDialogTyping = true;
            
            dialogElement.innerHTML = '';
            dialogIndex = 0;
            dialogCursor.style.display = 'inline';
            
            function typeDialogCharacter() {
                if (dialogIndex < text.length && isDialogTyping) {
                    dialogElement.innerHTML += text[dialogIndex];
                    dialogIndex++;
                    
                    // è‡ªåŠ¨æ»šåŠ¨åˆ°æœ€æ–°å†…å®¹
                    if (dialogBody) {
                        dialogBody.scrollTop = dialogBody.scrollHeight;
                    }
                    
                    setTimeout(typeDialogCharacter, 80);
                } else {
                    // æ‰“å­—å®Œæˆ
                    dialogCursor.style.display = 'none';
                    isDialogTyping = false;
                }
            }
            
            typeDialogCharacter();
        }

        // ASKæ–‡æœ¬æ¡†ç‚¹å‡»å¤„ç†å‡½æ•°
        function handleAskClick(askIndex) {
            // ç§»é™¤æ‰€æœ‰ASKæ–‡æœ¬æ¡†çš„æ¿€æ´»çŠ¶æ€
            const allAskContainers = document.querySelectorAll('.ask-container');
            allAskContainers.forEach(container => {
                container.classList.remove('active');
            });
            
            // ä¸ºå½“å‰ç‚¹å‡»çš„ASKæ–‡æœ¬æ¡†æ·»åŠ æ¿€æ´»çŠ¶æ€
            const currentAskContainer = document.getElementById(`ask${askIndex + 1}-container`);
            if (currentAskContainer) {
                currentAskContainer.classList.add('active');
            }
            
            // åœ¨å¯¹è¯æ¡†æ–‡æœ¬æ¡†ä¸­æ˜¾ç¤ºå¯¹åº”çš„å›ç­”
            startDialogTyping(askResponses[askIndex]);
        }

        // è¿”å›é¦–é¡µ
        function goBack() {
            window.location.href = 'index.html';
        }

        // é¡µé¢åŠ è½½å®Œæˆåå¼€å§‹æ‰“å­—æ•ˆæœ
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–ä»£ç é«˜äº®
            if (hljs) {
                hljs.configure({
                    tabReplace: '    ',
                    languages: ['csharp']
                });
            }
            
            // ä¸ºASKæ–‡æœ¬æ¡†æ·»åŠ ç‚¹å‡»äº‹ä»¶
            document.getElementById('ask1-container').addEventListener('click', () => handleAskClick(0));
            document.getElementById('ask2-container').addEventListener('click', () => handleAskClick(1));
            document.getElementById('ask3-container').addEventListener('click', () => handleAskClick(2));
            
            // å»¶è¿Ÿ0.5ç§’å¼€å§‹æ‰“å­—æ•ˆæœ
            setTimeout(startTypingEffect, 500);
            
            // æ·»åŠ é”®ç›˜å¿«æ·é”®
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    goBack();
                }
                if (e.key === 'r' && e.ctrlKey) {
                    e.preventDefault();
                    startTypingEffect();
                }
                // æ•°å­—é”®1-3é€‰æ‹©ASKæ–‡æœ¬æ¡†
                if (e.key >= '1' && e.key <= '3') {
                    const index = parseInt(e.key) - 1;
                    handleAskClick(index);
                }
            });
            
            // è°ƒæ•´æ–‡æœ¬æ¡†å¤§å°ä»¥é€‚åº”å›¾ç‰‡æ˜¾ç¤º
            function adjustCodeBoxPosition() {
                const container = document.querySelector('.transparent-code-container');
                const dialogContainer = document.querySelector('.dialog-container');
                const ask1Container = document.getElementById('ask1-container');
                const ask2Container = document.getElementById('ask2-container');
                const ask3Container = document.getElementById('ask3-container');
                
                if (!container || !dialogContainer) return;
                
                // è·å–å›¾ç‰‡å®é™…æ˜¾ç¤ºå°ºå¯¸
                const img = new Image();
                img.src = 'images/back_Csharp.png'; 
                img.onload = function() {
                    const imgWidth = img.width;
                    const imgHeight = img.height;
                    const screenWidth = window.innerWidth;
                    const screenHeight = window.innerHeight;
                    
                    // è®¡ç®—å›¾ç‰‡æ˜¾ç¤ºæ¯”ä¾‹
                    const widthRatio = screenWidth / imgWidth;
                    const heightRatio = screenHeight / imgHeight;
                    const scaleRatio = Math.min(widthRatio, heightRatio);
                    
                    // è®¡ç®—å›¾ç‰‡åœ¨å±å¹•ä¸­çš„å®é™…ä½ç½®
                    const actualImgWidth = imgWidth * scaleRatio;
                    const actualImgHeight = imgHeight * scaleRatio;
                    const imgLeft = (screenWidth - actualImgWidth) / 2;
                    const imgTop = (screenHeight - actualImgHeight) / 2;
                    
                    // æ ¹æ®æ¯”ä¾‹è®¡ç®—ä»£ç æ–‡æœ¬æ¡†ä½ç½® (41.30%, 9.69%, 36.83%, 29.08%)
                    const boxLeft = imgLeft + (actualImgWidth * 0.4130);
                    const boxTop = imgTop + (actualImgHeight * 0.0969);
                    const boxWidth = actualImgWidth * 0.3683;
                    const boxHeight = actualImgHeight * 0.2908;
                    
                    // æ ¹æ®æ¯”ä¾‹è®¡ç®—å¯¹è¯æ¡†æ–‡æœ¬æ¡†ä½ç½®
                    const dialogBoxLeft = imgLeft + (actualImgWidth * 0.4300); // 43.00%
                    const dialogBoxTop = imgTop + (actualImgHeight * 0.4400);  // 49.40%
                    const dialogBoxWidth = actualImgWidth * 0.3350;            // 33.50%
                    const dialogBoxHeight = actualImgHeight * 0.1439;          // 9.39%
                    
                    // è®¡ç®—ASKæ–‡æœ¬æ¡†ä½ç½®
                    // å·¦è¾¹ç•Œ: 0.36, å®½åº¦: 0.502, é«˜åº¦: 0.041
                    const askLeft = imgLeft + (actualImgWidth * 0.36);
                    const askWidth = actualImgWidth * 0.502;
                    const askHeight = actualImgHeight * 0.041;
                    
                    // ASK1ä¸Šè¾¹ç•Œ: 0.702
                    const ask1Top = imgTop + (actualImgHeight * 0.692);
                    // ASK2ä¸Šè¾¹ç•Œ: 0.807
                    const ask2Top = imgTop + (actualImgHeight * 0.797);
                    // ASK3ä¸Šè¾¹ç•Œ: 0.907
                    const ask3Top = imgTop + (actualImgHeight * 0.897);
                    
                    // åº”ç”¨è®¡ç®—åçš„ä½ç½®åˆ°ä»£ç æ–‡æœ¬æ¡†
                    container.style.position = 'absolute';
                    container.style.left = boxLeft + 'px';
                    container.style.top = boxTop + 'px';
                    container.style.width = boxWidth + 'px';
                    container.style.height = boxHeight + 'px';
                    
                    // åº”ç”¨è®¡ç®—åçš„ä½ç½®åˆ°å¯¹è¯æ¡†æ–‡æœ¬æ¡†
                    dialogContainer.style.position = 'absolute';
                    dialogContainer.style.left = dialogBoxLeft + 'px';
                    dialogContainer.style.top = dialogBoxTop + 'px';
                    dialogContainer.style.width = dialogBoxWidth + 'px';
                    dialogContainer.style.height = dialogBoxHeight + 'px';
                    
                    // åº”ç”¨è®¡ç®—åçš„ä½ç½®åˆ°ASK1æ–‡æœ¬æ¡†
                    if (ask1Container) {
                        ask1Container.style.left = askLeft + 'px';
                        ask1Container.style.top = ask1Top + 'px';
                        ask1Container.style.width = askWidth + 'px';
                        ask1Container.style.height = askHeight + 'px';
                    }
                    
                    // åº”ç”¨è®¡ç®—åçš„ä½ç½®åˆ°ASK2æ–‡æœ¬æ¡†
                    if (ask2Container) {
                        ask2Container.style.left = askLeft + 'px';
                        ask2Container.style.top = ask2Top + 'px';
                        ask2Container.style.width = askWidth + 'px';
                        ask2Container.style.height = askHeight + 'px';
                    }
                    
                    // åº”ç”¨è®¡ç®—åçš„ä½ç½®åˆ°ASK3æ–‡æœ¬æ¡†
                    if (ask3Container) {
                        ask3Container.style.left = askLeft + 'px';
                        ask3Container.style.top = ask3Top + 'px';
                        ask3Container.style.width = askWidth + 'px';
                        ask3Container.style.height = askHeight + 'px';
                    }
                };
            }
            
            // åˆå§‹è°ƒæ•´
            adjustCodeBoxPosition();
            
            // çª—å£å¤§å°æ”¹å˜æ—¶é‡æ–°è°ƒæ•´
            window.addEventListener('resize', adjustCodeBoxPosition);

            // åˆå§‹ç¡®ä¿æ»šåŠ¨æ¡åœ¨é¡¶éƒ¨
            const dialogBody = document.querySelector('.transparent-dialog-body');
            const dialogBody2 = document.querySelector('.dialog-body');
            if (dialogBody) {
                dialogBody.scrollTop = 0;
            }
            if (dialogBody2) {
                dialogBody2.scrollTop = 0;
            }
        });
    </script>
</body>
</html>